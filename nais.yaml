name: fastlegerest
image: "repo.adeo.no:5443/fastlegerest"
team: teamsykefravr
replicas:
  min: 1
  max: 2
  cpuThresholdPercentage: 50
port: 8080
healthcheck:
  liveness:
    path: fastlegerest/internal/isAlive
    initialDelay: 120
  readiness:
    path: fastlegerest/internal/isReady
    initialDelay: 120
prometheus:
  enabled: true
  path: fastlegerest/internal/prometheus
resources:
  limits:
    cpu: 3000m
    memory: 1024Mi
  requests:
    cpu: 500m
    memory: 384Mi
fasitResources:
  used:
  - alias: srvfastlegerest
    resourceType: credential
  - alias: appdynamics
    resourceType: applicationproperties
  - alias: loadbalancer:fastlegerest
    resourceType: loadbalancerconfig
  - alias: ekstern:helse_fastlegeinformasjon
    resourceType: webserviceendpoint
  - alias: ekstern:helse_adresseregisteret_v1
    resourceType: webserviceendpoint
  - alias: virksomhet:Brukerprofil_v3
    resourceType: webserviceendpoint
  - alias: partner-ws
    resourceType: webserviceendpoint
  - alias: securityTokenService
    resourceType: baseUrl
  - alias: tilgangskontrollapi
    resourceType: restservice
  - alias: security-token-service-token
    resourceType: restservice
  - alias: opam_oidc_discovery
    resourceType: baseurl
    propertyMap:
      url: NO_NAV_SECURITY_OIDC_ISSUER_INTERN_DISCOVERYURL
    # OIDC med AzureAD B2C
  - alias: aad_b2c_clientid
    resourceType: credential
    propertyMap:
      username: NO_NAV_SECURITY_OIDC_ISSUER_SELVBETJENING_ACCEPTEDAUDIENCE
  - alias: aad_b2c_discovery
    resourceType: baseurl
    propertyMap:
      url: NO_NAV_SECURITY_OIDC_ISSUER_SELVBETJENING_DISCOVERYURL
  exposed:
  - alias: fastlegeapi
    resourceType: restservice
    path: /fastlegerest/api/fastlege/v1
  - alias: fastlege-dialogmelding-api-v1
    resourceType: restservice
    path: /fastlegerest/api/dialogmelding/v1
